{% extends "base_generic.html" %}
{% block title %}<title>AI Image Background Removal</title>{% endblock %}

{% block sidebar %}
          <ul class="nav nav-sidebar">
            <li class="active"><a href="#"><i class="fab fa-flickr fa-lg"></i>&nbsp Flickr Image Search</a></li>
            <li><a href="{% url 'web_google' %}"><i class="fab fa-google fa-lg"></i>&nbsp Google Image Search</a></li>
            <li><a href="{% url 'upload_img' %}"><i class="fas fa-file-upload fa-lg"></i>&nbsp Upload Image</a></li>
            <!--<li><a href="#"><i class="fas fa-images fa-lg"></i>&nbsp Result</a></li>-->
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="{% url 'combine_app' %}"><i class="fas fa-paint-brush fa-lg"></i>&nbsp Combine Image</a></li>
          </ul>
{% endblock %}

{% block content %}
        <h1 class="page-header">Flickr Image Search</h1>
          <div class="table-responsive">
            <form action="" method="post">
                {% csrf_token %}
                <!--<table>-->
                  {{form.as_table}}
                <!--</table>-->
                <input type="submit" value="Search" onclick="this.disabled=true;this.value='Please wait...';this.form.submit();">
            </form>
          </div>
        {% if url_0 %}
          <h2 class="sub-header"></h2><!--搜尋結果: {{keyword}}-->
          <div class="pageloader pageloader1">
            <h3>Please wait for a moment...</h3>
            <img src="http://cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.16.1/images/loader-large.gif" alt="processing..." />
          </div>
          <div class="pageloader pageloader2">
            <h3>Almost done, please wait...</h3>
            <img src="http://cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.16.1/images/loader-large.gif" alt="processing..." />
          </div>
          <div class="row placeholders">
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_0}} width="250" height="180" class="img-responsive" alt="g0">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_0}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_1}} width="250" height="180" class="img-responsive" alt="g1">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_1}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_2}} width="250" height="180" class="img-responsive" alt="g2">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_2}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
          </div>
          <div class="row placeholders">
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_3}} width="250" height="180" class="img-responsive" alt="g3">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_3}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_4}} width="250" height="180" class="img-responsive" alt="g4">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_4}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_5}} width="250" height="180" class="img-responsive" alt="g5">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_5}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
          </div>
          <div class="row placeholders">
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_6}} width="250" height="180" class="img-responsive" alt="g6">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_6}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_7}} width="250" height="180" class="img-responsive" alt="g7">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_7}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
            <div class="col-xs-4 col-sm-4 placeholder">
              <img src={{url_8}} width="250" height="180" class="img-responsive" alt="g8">
              <form action="{% url 'result' %}" method="post" class="formImg formImg2">
                {% csrf_token %}
                <input type="hidden" name="img_url" value={{url_8}}>
                <input type="submit" value="Background removal" class="submitImg">
              </form>
            </div>
          </div>

          <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
          <script>
              $(document).ready(function () {
                  $(".formImg").submit(function (e) {
                      //disable the submit button
                      $(".submitImg").attr("disabled", true);
                      $(".submitImg").attr("value", 'Please wait...');
                      $(".pageloader1").fadeIn();
                      $(".placeholder").fadeOut();
                      return true;
                  });
                  $(".formImg2").submit(function (e) {
                      setTimeout(alertFunc, 10000);
                  });
              });
              function alertFunc(){
                $(".pageloader1").fadeOut();
                $(".pageloader2").fadeIn();
              }
          </script>
         {% endif %}

{% endblock %}
